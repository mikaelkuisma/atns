function results = temp_update_code(parameterset, results)
minor_epoch_length = parameterset.minor_epoch_length;
steps_per_minor_epoch = parameterset.steps_per_minor_epoch;
minor_epochs_per_major_epoch = parameterset.minor_epochs_per_major_epoch;
major_epochs = parameterset.major_epochs;
dt = minor_epoch_length / steps_per_minor_epoch;
MODULE_daylength = 1.0000000000000000;
MODULE_stepsperday = 10.0000000000000000;
MODULE_daysperyear = 10.0000000000000000;
MODULE_years = 1.0000000000000000;
Bac_B_i = 3076.6102000000000771;
Bac_mbr_i = 0.0400000000000000;
Bac_effectiveprey_i = 0.0000000000000000;
Alg1_B_i = 3090.6885999999999513;
Feeding_link1_y_ij = 8.0000000000000000;
for major=1:major_epochs
      fprintf('year %d\n', major);
   for minor=1:minor_epochs_per_major_epoch
      for iter=1:steps_per_minor_epoch
       if iter==1
Bflat = [ Bac_B_i Alg1_B_i ];
            results.add_minor_epoch(Bflat);
            if minor == 1
                results.add_major_epoch(Bflat);
            end
        end
Bflat = [ Bac_B_i Alg1_B_i ];
dBac_B_idt = 0;
dAlg1_B_idt = 0;
temp0 = 100.000000000000000;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = Bac_mbr_i;
temp1 = Bac_B_i;
temp0 = temp0 * temp1;
temp0 = -temp0;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = 100.000000000000000;
dAlg1_B_idt = dAlg1_B_idt + temp0;
temp0 = Alg1_B_i;
temp0 = -temp0;
dAlg1_B_idt = dAlg1_B_idt + temp0;
temp0 = 0.000000000000000;
Bac_effectiveprey_i = temp0;
temp0 = Alg1_B_i;
Bac_effectiveprey_i = Bac_effectiveprey_i + temp0;
temp0 = Alg1_B_i;
temp1 = 1.000000000000000;
temp2 = Bac_effectiveprey_i;
temp1 = temp1 + temp2;
temp0 = temp0 / temp1;
Feeding_link1_F_ij = temp0;
temp0 = Bac_mbr_i;
temp1 = Feeding_link1_y_ij;
temp0 = temp0 * temp1;
temp1 = Feeding_link1_F_ij;
temp0 = temp0 * temp1;
temp1 = Bac_B_i;
temp0 = temp0 * temp1;
Feeding_link1_feedingrate_ij = temp0;
temp0 = Feeding_link1_feedingrate_ij;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = Feeding_link1_feedingrate_ij;
temp0 = -temp0;
dAlg1_B_idt = dAlg1_B_idt + temp0;
dBflatdt = [ dBac_B_idt dAlg1_B_idt ];
Bflat2 = Bflat;
Bflat = Bflat + dBflatdt*dt;
Bac_B_i = Bflat(1);
Alg1_B_i = Bflat(2);
dBac_B_idt = 0;
dAlg1_B_idt = 0;
temp0 = 100.000000000000000;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = Bac_mbr_i;
temp1 = Bac_B_i;
temp0 = temp0 * temp1;
temp0 = -temp0;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = 100.000000000000000;
dAlg1_B_idt = dAlg1_B_idt + temp0;
temp0 = Alg1_B_i;
temp0 = -temp0;
dAlg1_B_idt = dAlg1_B_idt + temp0;
temp0 = 0.000000000000000;
Bac_effectiveprey_i = temp0;
temp0 = Alg1_B_i;
Bac_effectiveprey_i = Bac_effectiveprey_i + temp0;
temp0 = Alg1_B_i;
temp1 = 1.000000000000000;
temp2 = Bac_effectiveprey_i;
temp1 = temp1 + temp2;
temp0 = temp0 / temp1;
Feeding_link1_F_ij = temp0;
temp0 = Bac_mbr_i;
temp1 = Feeding_link1_y_ij;
temp0 = temp0 * temp1;
temp1 = Feeding_link1_F_ij;
temp0 = temp0 * temp1;
temp1 = Bac_B_i;
temp0 = temp0 * temp1;
Feeding_link1_feedingrate_ij = temp0;
temp0 = Feeding_link1_feedingrate_ij;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = Feeding_link1_feedingrate_ij;
temp0 = -temp0;
dAlg1_B_idt = dAlg1_B_idt + temp0;
dBflat2dt = [ dBac_B_idt dAlg1_B_idt ];
Bflat = Bflat2 + (dBflatdt+dBflat2dt)*dt/2;
Bac_B_i = Bflat(1);
Alg1_B_i = Bflat(2);
      end
   end
Bflat = [ Bac_B_i Alg1_B_i ];
dBac_B_idt = 0;
dAlg1_B_idt = 0;
temp0 = 100.000000000000000;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = Bac_mbr_i;
temp1 = Bac_B_i;
temp0 = temp0 * temp1;
temp0 = -temp0;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = 100.000000000000000;
dAlg1_B_idt = dAlg1_B_idt + temp0;
temp0 = Alg1_B_i;
temp0 = -temp0;
dAlg1_B_idt = dAlg1_B_idt + temp0;
temp0 = 0.000000000000000;
Bac_effectiveprey_i = temp0;
temp0 = Alg1_B_i;
Bac_effectiveprey_i = Bac_effectiveprey_i + temp0;
temp0 = Alg1_B_i;
temp1 = 1.000000000000000;
temp2 = Bac_effectiveprey_i;
temp1 = temp1 + temp2;
temp0 = temp0 / temp1;
Feeding_link1_F_ij = temp0;
temp0 = Bac_mbr_i;
temp1 = Feeding_link1_y_ij;
temp0 = temp0 * temp1;
temp1 = Feeding_link1_F_ij;
temp0 = temp0 * temp1;
temp1 = Bac_B_i;
temp0 = temp0 * temp1;
Feeding_link1_feedingrate_ij = temp0;
temp0 = Feeding_link1_feedingrate_ij;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = Feeding_link1_feedingrate_ij;
temp0 = -temp0;
dAlg1_B_idt = dAlg1_B_idt + temp0;
dBac_B_idt = 0;
dAlg1_B_idt = 0;
dBflatdt = [ dBac_B_idt dAlg1_B_idt ];
Bflat = Bflat + dBflatdt;
Bac_B_i = Bflat(1);
Alg1_B_i = Bflat(2);
dBac_B_idt = 0;
dAlg1_B_idt = 0;
temp0 = 100.000000000000000;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = Bac_mbr_i;
temp1 = Bac_B_i;
temp0 = temp0 * temp1;
temp0 = -temp0;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = 100.000000000000000;
dAlg1_B_idt = dAlg1_B_idt + temp0;
temp0 = Alg1_B_i;
temp0 = -temp0;
dAlg1_B_idt = dAlg1_B_idt + temp0;
temp0 = 0.000000000000000;
Bac_effectiveprey_i = temp0;
temp0 = Alg1_B_i;
Bac_effectiveprey_i = Bac_effectiveprey_i + temp0;
temp0 = Alg1_B_i;
temp1 = 1.000000000000000;
temp2 = Bac_effectiveprey_i;
temp1 = temp1 + temp2;
temp0 = temp0 / temp1;
Feeding_link1_F_ij = temp0;
temp0 = Bac_mbr_i;
temp1 = Feeding_link1_y_ij;
temp0 = temp0 * temp1;
temp1 = Feeding_link1_F_ij;
temp0 = temp0 * temp1;
temp1 = Bac_B_i;
temp0 = temp0 * temp1;
Feeding_link1_feedingrate_ij = temp0;
temp0 = Feeding_link1_feedingrate_ij;
dBac_B_idt = dBac_B_idt + temp0;
temp0 = Feeding_link1_feedingrate_ij;
temp0 = -temp0;
dAlg1_B_idt = dAlg1_B_idt + temp0;
end
